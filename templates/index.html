<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SCFE Detection</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: radial-gradient(1200px 600px at 20% -10%, #142042 0%, transparent 60%), linear-gradient(180deg, #0b1020 0%, #0b1020 100%); color: #eef2ff; }
    .card { background: rgba(17, 24, 39, 0.9); border: 1px solid #24324a; border-radius: 16px; backdrop-filter: blur(6px); }
    .btn-primary { background: #2563eb; border-color: #2563eb; box-shadow: 0 8px 20px rgba(37,99,235,.25); }
    .btn-primary:hover { background: #1d4ed8; border-color: #1d4ed8; }
    .brand { font-weight: 800; letter-spacing: .5px; color: #ffffff; }
    .muted { color: #cbd5e1; }
    .form-label { color: #e5e7eb; }
    .form-control { background: #0f172a; color: #f8fafc; border: 1px solid #334155; }
    .form-control:focus { background: #0f172a; color: #f8fafc; border-color: #60a5fa; box-shadow: 0 0 0 .2rem rgba(96,165,250,.25); }
    .alert { background: #1f2937; color: #f1f5f9; border-color: #334155; }
  </style>
  <link rel="icon" href="data:,">
  <meta name="robots" content="noindex,nofollow">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data:; script-src 'self' https://cdn.jsdelivr.net">
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
</head>
<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="text-center mb-4">
          <h1 class="brand">SCFE Detection</h1>
          <p class="muted">Upload a pelvis radiograph in NIfTI format (.nii or .nii.gz)</p>
        </div>
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert alert-warning">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}
        <div class="card shadow-sm">
          <div class="card-body p-4">
            <div class="d-flex justify-content-end mb-3">
              <a class="btn btn-outline-light" href="{{ url_for('download_test_images') }}">Download Test Images</a>
            </div>
            <form method="post" enctype="multipart/form-data">
              <div class="mb-3">
                <label for="file" class="form-label">Select image file (.nii, .nii.gz, .png)</label>
                <input class="form-control" type="file" id="file" name="file" accept=".nii,.nii.gz,.png" required>
              </div>
              <button class="btn btn-primary w-100" type="submit">Analyze</button>
            </form>
            <div class="mt-3 small muted">Files are processed locally and not stored permanently.</div>
          </div>
        </div>
        <div class="mt-4">
          <div class="card shadow-sm">
            <div class="card-body p-4">
              <div class="fw-bold mb-2" style="color:#f8fafc;">DISCLAIMERS:</div>
              <div class="muted">This tool is merely a proof of concept for how AI can aid in the assessment of orthopedic diagnosis. Rigorous validation is required prior to clinical use. THIS TOOL IS NOT MEANT FOR USE IN CLINICAL SETTINGS</div>
              <div class="muted mt-2">All test images available for download were sourced from radiopaedia.org.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>document.getElementById('file').addEventListener('change',e=>{if(e.target.files.length){const f=e.target.files[0];if(!(/\.(nii|nii\.gz|png)$/i.test(f.name))){alert('Please select a .nii, .nii.gz, or .png file.');e.target.value='';}}});</script>
</body>
</html>


